(window.webpackJsonp=window.webpackJsonp||[]).push([[7,3,4,5],{453:function(e,t,n){var map={"./10_BlackHeart.png":460,"./10_Heart.png":461,"./10_Noise.png":462,"./10_Rectangle.png":463,"./1_BlackHeart.png":464,"./1_Heart.png":465,"./1_Noise.png":466,"./1_Rectangle.png":467,"./2_BlackHeart.png":468,"./2_Heart.png":469,"./2_Noise.png":470,"./2_Rectangle.png":471,"./3_BlackHeart.png":472,"./3_Heart.png":473,"./3_Noise.png":474,"./3_Rectangle.png":475,"./4_BlackHeart.png":476,"./4_Heart.png":477,"./4_Noise.png":478,"./4_Rectangle.png":479,"./5_BlackHeart.png":480,"./5_Heart.png":481,"./5_Noise.png":482,"./5_Rectangle.png":483,"./6_BlackHeart.png":484,"./6_Heart.png":485,"./6_Noise.png":486,"./6_Rectangle.png":487,"./7_BlackHeart.png":488,"./7_Heart.png":489,"./7_Noise.png":490,"./7_Rectangle.png":491,"./8_BlackHeart.png":492,"./8_Heart.png":493,"./8_Noise.png":494,"./8_Rectangle.png":495,"./9_BlackHeart.png":496,"./9_Heart.png":497,"./9_Noise.png":498,"./9_Rectangle.png":499,"./Chkobba_back.png":455,"./btn1.png":457,"./btn2.png":458,"./btn3.png":459};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=453},455:function(e,t,n){e.exports=n.p+"img/Chkobba_back.9d5ef76.png"},457:function(e,t,n){e.exports=n.p+"img/btn1.79bc649.png"},458:function(e,t,n){e.exports=n.p+"img/btn2.95dec07.png"},459:function(e,t,n){e.exports=n.p+"img/btn3.157ebec.png"},460:function(e,t,n){e.exports=n.p+"img/10_BlackHeart.303eba0.png"},461:function(e,t,n){e.exports=n.p+"img/10_Heart.c7e6c17.png"},462:function(e,t,n){e.exports=n.p+"img/10_Noise.9fbc5e2.png"},463:function(e,t,n){e.exports=n.p+"img/10_Rectangle.51c9e78.png"},464:function(e,t,n){e.exports=n.p+"img/1_BlackHeart.d622404.png"},465:function(e,t,n){e.exports=n.p+"img/1_Heart.367e6eb.png"},466:function(e,t,n){e.exports=n.p+"img/1_Noise.571973f.png"},467:function(e,t,n){e.exports=n.p+"img/1_Rectangle.5173348.png"},468:function(e,t,n){e.exports=n.p+"img/2_BlackHeart.e3abbe8.png"},469:function(e,t,n){e.exports=n.p+"img/2_Heart.ff808fd.png"},470:function(e,t,n){e.exports=n.p+"img/2_Noise.8bb3471.png"},471:function(e,t,n){e.exports=n.p+"img/2_Rectangle.5aefa77.png"},472:function(e,t,n){e.exports=n.p+"img/3_BlackHeart.ffcadc8.png"},473:function(e,t,n){e.exports=n.p+"img/3_Heart.be26a43.png"},474:function(e,t,n){e.exports=n.p+"img/3_Noise.280c06b.png"},475:function(e,t,n){e.exports=n.p+"img/3_Rectangle.d68681b.png"},476:function(e,t,n){e.exports=n.p+"img/4_BlackHeart.a120c63.png"},477:function(e,t,n){e.exports=n.p+"img/4_Heart.bb71af7.png"},478:function(e,t,n){e.exports=n.p+"img/4_Noise.44394e5.png"},479:function(e,t,n){e.exports=n.p+"img/4_Rectangle.5369680.png"},480:function(e,t,n){e.exports=n.p+"img/5_BlackHeart.3ef9cad.png"},481:function(e,t,n){e.exports=n.p+"img/5_Heart.1b4dc81.png"},482:function(e,t,n){e.exports=n.p+"img/5_Noise.d45a0c9.png"},483:function(e,t,n){e.exports=n.p+"img/5_Rectangle.474e0df.png"},484:function(e,t,n){e.exports=n.p+"img/6_BlackHeart.2d05016.png"},485:function(e,t,n){e.exports=n.p+"img/6_Heart.b3429a8.png"},486:function(e,t,n){e.exports=n.p+"img/6_Noise.5587313.png"},487:function(e,t,n){e.exports=n.p+"img/6_Rectangle.b5d52e0.png"},488:function(e,t,n){e.exports=n.p+"img/7_BlackHeart.1b29904.png"},489:function(e,t,n){e.exports=n.p+"img/7_Heart.93f55fe.png"},490:function(e,t,n){e.exports=n.p+"img/7_Noise.cf65b16.png"},491:function(e,t,n){e.exports=n.p+"img/7_Rectangle.780573e.png"},492:function(e,t,n){e.exports=n.p+"img/8_BlackHeart.179a9a7.png"},493:function(e,t,n){e.exports=n.p+"img/8_Heart.590a845.png"},494:function(e,t,n){e.exports=n.p+"img/8_Noise.a1771bc.png"},495:function(e,t,n){e.exports=n.p+"img/8_Rectangle.2f33d31.png"},496:function(e,t,n){e.exports=n.p+"img/9_BlackHeart.65e771a.png"},497:function(e,t,n){e.exports=n.p+"img/9_Heart.7f56e82.png"},498:function(e,t,n){e.exports=n.p+"img/9_Noise.ba11b37.png"},499:function(e,t,n){e.exports=n.p+"img/9_Rectangle.6c0481c.png"},500:function(e,t,n){var content=n(507);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(109).default)("7342bed8",content,!0,{sourceMap:!1})},501:function(e,t,n){var content=n(509);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(109).default)("f92889f0",content,!0,{sourceMap:!1})},502:function(e,t,n){var content=n(511);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(109).default)("d65d6e98",content,!0,{sourceMap:!1})},506:function(e,t,n){"use strict";n(500)},507:function(e,t,n){var r=n(108)((function(i){return i[1]}));r.push([e.i,".card img[data-v-d22df23e]{box-shadow:0 4px 8px rgba(0,0,0,.1);height:200px;-o-object-fit:cover;object-fit:cover;width:150px}.card[data-v-d22df23e]{border-radius:8px;height:-moz-fit-content;height:fit-content;overflow:hidden;width:-moz-fit-content;width:fit-content}",""]),r.locals={},e.exports=r},508:function(e,t,n){"use strict";n(501)},509:function(e,t,n){var r=n(108)((function(i){return i[1]}));r.push([e.i,".card img[data-v-ad7059ac]{height:110px;margin:4px;-o-object-fit:cover;object-fit:cover;width:73px}.card[data-v-ad7059ac]{border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,.1);display:inline;height:-moz-fit-content;height:fit-content;overflow:hidden;width:-moz-fit-content;width:fit-content}@media (max-width:480px){.card img[data-v-ad7059ac]{height:60px;margin:4px;-o-object-fit:cover;object-fit:cover;width:40px}}",""]),r.locals={},e.exports=r},510:function(e,t,n){"use strict";n(502)},511:function(e,t,n){var r=n(108)((function(i){return i[1]}));r.push([e.i,".cardTapi img[data-v-2d7213c8]{height:150px;margin:4px;-o-object-fit:cover;object-fit:cover;width:100px}.cardTapi[data-v-2d7213c8]{border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,.1);display:inline;height:-moz-fit-content;height:fit-content;overflow:hidden;width:-moz-fit-content;width:fit-content}",""]),r.locals={},e.exports=r},519:function(e,t,n){var content=n(597);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(109).default)("7e4edf5b",content,!0,{sourceMap:!1})},522:function(e,t,n){"use strict";n.r(t);n(70);var r={name:"MyHand",props:{cards:{type:void 0}},data:function(){return{}}},o=(n(506),n(43)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"card"},e._l(e.cards,(function(e){return t("img",{key:e.number+e.suit,attrs:{src:n(453)("./".concat(e.number,"_").concat(e.suit,".png")),alt:"Card Image"}})})),0)}),[],!1,null,"d22df23e",null);t.default=component.exports},523:function(e,t,n){"use strict";n.r(t);n(289);var r={props:{nbcards:{type:Number}},data:function(){return{}}},o=(n(508),n(43)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"card"},e._l(e.nbcards,(function(i){return t("img",{key:i,attrs:{src:n(455),alt:"Card Image"}})})),0)}),[],!1,null,"ad7059ac",null);t.default=component.exports},524:function(e,t,n){"use strict";n.r(t);n(70);var r={props:{cards:{type:void 0}},data:function(){return{}}},o=(n(510),n(43)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"cardTapi"},e._l(e.cards,(function(e){return t("img",{key:e.number+e.suit,attrs:{src:n(453)("./".concat(e.number,"_").concat(e.suit,".png")),alt:"Card Image"}})})),0)}),[],!1,null,"2d7213c8",null);t.default=component.exports},596:function(e,t,n){"use strict";n(519)},597:function(e,t,n){var r=n(108),o=n(202),c=n(598),d=r((function(i){return i[1]})),l=o(c);d.push([e.i,".msg_gif[data-v-724595e0]{transform:translateX(50%)}.gif-img[data-v-724595e0]{height:80px;width:80px}h1[data-v-724595e0]{font-size:24px}input[data-v-724595e0]{margin-right:10px}.background-main[data-v-724595e0]{align-items:center;display:grid;font-family:monospace;grid-auto-rows:1fr 2fr auto;grid-template-columns:1fr 4fr 1fr;height:100%;justify-content:center;margin:0 auto}.el-dialog[data-v-724595e0]{background:rgba(0,0,0,.5)!important}.background-main .myhand[data-v-724595e0]{display:grid;grid-column:1/4;grid-row:3/4;justify-content:center}.background-main .player1[data-v-724595e0]{display:grid;grid-column:2/3;grid-row:1/2;justify-content:center}#waiting[data-v-724595e0]{align-self:center;background:rgba(0,0,0,.7);border-radius:15px;color:#fff;display:grid;font-size:xx-large;justify-self:center;padding:17px;position:absolute;z-index:1}.background-main .player2[data-v-724595e0]{display:grid;grid-column:1/2;grid-row:2/3;justify-content:center}.background-main .player3[data-v-724595e0]{display:grid;grid-column:3/4;grid-row:2/3;justify-content:center}.background-main .table[data-v-724595e0]{background-image:url("+l+");background-position:50%;background-repeat:no-repeat;background-size:cover;border:solid #242424;border-radius:5px;color:#fff;grid-column:2/3;grid-row:2/3;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%}.myhandstat img[data-v-724595e0]{height:106px;width:72px}.card img[data-v-724595e0],.myhandstat img[data-v-724595e0]{box-shadow:0 4px 8px rgba(0,0,0,.1);margin:10px;-o-object-fit:cover;object-fit:cover}.card img[data-v-724595e0]{height:165px;transform:perspective(542px) rotateX(-23deg) scaleX(1.2);transform:perspective(var(--perspective,542px)) rotateX(-23deg) scaleX(1.2);width:110px}.card .imgSelected[data-v-724595e0]{border:5px solid green;border-radius:15px;box-shadow:0 4px 8px rgba(0,0,0,.1);-o-object-fit:cover;object-fit:cover;transform:perspective(542px) rotateX(0deg) scaleX(1.2);transform:perspective(var(--perspective,542px)) rotateX(0deg) scaleX(1.2)}.cardTapi img[data-v-724595e0]{margin:4px}.cardTapi .imgPreventSelected[data-v-724595e0],.cardTapi img[data-v-724595e0]{height:165px;-o-object-fit:cover;object-fit:cover;width:110px}.cardTapi .imgPreventSelected[data-v-724595e0]{border:5px solid rgba(240,8,8,.897);box-shadow:0 4px 8px rgba(0,0,0,.1)}.card[data-v-724595e0],.cardTapi[data-v-724595e0]{border-radius:8px;height:-moz-fit-content;height:fit-content;overflow:hidden;width:-moz-fit-content;width:fit-content}.cardTapi[data-v-724595e0]{box-shadow:0 4px 8px rgba(0,0,0,.1);display:inline}@media (max-width:480px){.background-main[data-v-724595e0]{align-items:center;display:grid;font-family:monospace;grid-auto-rows:auto 4fr auto;grid-template-columns:1fr 4fr 1fr;height:100%;justify-content:center;margin:0 auto}.myhandstat img[data-v-724595e0]{margin:2.5px}.card img[data-v-724595e0],.myhandstat img[data-v-724595e0]{box-shadow:0 4px 8px rgba(0,0,0,.1);height:100px;-o-object-fit:cover;object-fit:cover;width:69px}.card img[data-v-724595e0]{margin:10px;transform:perspective(542px) rotateX(-23deg) scaleX(1.2);transform:perspective(var(--perspective,542px)) rotateX(-23deg) scaleX(1.2)}.cardTapi img[data-v-724595e0]{height:100px;margin:4px;-o-object-fit:cover;object-fit:cover;width:69px}.cardTapi .imgSelected[data-v-724595e0]{border:5px solid green;height:100px!important;transform:scaleX(1);width:69px!important}.cardTapi .imgPreventSelected[data-v-724595e0],.cardTapi .imgSelected[data-v-724595e0]{box-shadow:0 4px 8px rgba(0,0,0,.1);-o-object-fit:cover;object-fit:cover}.cardTapi .imgPreventSelected[data-v-724595e0]{border:5px solid rgba(240,8,8,.897);height:100px;width:69px}}",""]),d.locals={},e.exports=d},598:function(e,t,n){e.exports=n.p+"img/tapie.8f16b92.jpg"},605:function(e,t,n){"use strict";n.r(t);n(70);var r,o=n(17),c=n(7),d=(n(35),n(529),n(534),n(535),n(537),n(289),n(209),n(48),n(16),n(22),n(34),n(50),n(210),n(540),n(548),n(550),n(551),n(552),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(574),n(575),n(576),n(577),n(578),n(580),n(581),n(582),n(583),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(49),n(36),n(119),n(592),n(595),n(295),n(46),n(522)),l=n(523),m=n(524),f={components:{myHand:d.default,enemyHand:l.default,cardTable:m.default},layout:"gameLayout",middleware:["auth"],data:function(){return{spammer:!1,soundeffect:"",selectedCard:null,listCardToEat:[],messageInput:"",messages:[],gameover:!1,userID:"",waitingPlayer:!0,RoomID:this.$auth.user.user.roomID,playerTurn:"",eatMove:{on:!1,data:void 0,card:void 0},tableCards:[{suit:"back",number:"Chkobba"},{suit:"back",number:"Chkobba"},{suit:"back",number:"Chkobba"},{suit:"back",number:"Chkobba"}],myHand:[{suit:"back",number:"Chkobba"},{suit:"back",number:"Chkobba"},{suit:"back",number:"Chkobba"}],gameoverstat:{f:[],d:[]},mediaRecorder:null,audioStream:null,isStreaming:!1,players:[],enemyScore:0,myScore:0,playerInfront:"",playerNext:"",playerBehind:"",playersCard:void 0,ws:null,reconnectInterval:5e3}},watch:{myHand:(r=Object(c.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)}),gameoverstat:function(){for(var e=0,t=Object.entries(this.gameoverstat);e<t.length;e++){var n=Object(o.a)(t[e],2),r=n[0],c=n[1];this.players.length>2?(r==this.userID&&(this.myScore+=this.analyzeDeck(c).total),r==this.playerNext&&(this.enemyScore+=this.analyzeDeck(c).total),r==this.playerBehind&&(this.enemyScore+=this.analyzeDeck(c).total),r==this.playerInfront&&(this.myScore+=this.analyzeDeck(c).total)):r==this.userID?this.myScore+=this.analyzeDeck(c).total:this.enemyScore+=this.analyzeDeck(c).total}}},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connectWebSocket();case 2:e.soundeffect="/salamoualykom.mp3",e.$refs.backgroundMusic.play();case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.ws&&this.ws.close()},methods:{analyzeDeck:function(e){var t=e.length,n=0,r=0,o=0,c=0,d=0;return e.forEach((function(e){7===e.number&&0,6===e.number&&n++,"Rectangle"===e.suit&&c++,"Rectangle"===e.suit&&7===e.number&&r++,"back"===e.suit&&"Chkobba"===e.number&&o++})),(r>2||n>2)&&(d=1),{info:"♢ = ".concat(c,"  ;🐍 = ").concat(r,"   ; carta =").concat(t-o," ; 🛢 = ").concat(d," ;♛ = ").concat(o," "),total:(1==d)+(c>5)+r+o+(t-o>20)}},gameoverReplay:function(){this.ws.send(JSON.stringify({type:"system",operation:"replay",mycard:this.selectedCard})),this.gameover=!1},getPreviousValue:function(e){var t=this.players,n=t.indexOf(e);if(-1===n)throw new Error("Value not found in the list");var r=(n-1+t.length)%t.length;this.playerNext=t[r]},lastPlayer:function(){var e=this,t=this.players.filter((function(t){return t!==e.playerInfront&&t!==e.playerNext&&t!==e.userID}));t.length>0?this.playerBehind=t[0]:(console.warn("No valid players left to assign as playerBehind"),this.playerBehind=null)},getNextValuePlusOne:function(e){var t=this.players;if(2!==t.length){var n=t.indexOf(e);if(-1===n)throw new Error("Value not found in the list");var r=(n+2)%t.length;this.playerInfront=t[r]}else{var o=t.indexOf(e);if(-1===o)throw new Error("Value not found in the list");this.playerInfront=t[(o+1)%2]}},trowcard:function(){this.selectedCard?this.ws.send(JSON.stringify({type:"system",operation:"trow",mycard:this.selectedCard})):console.log("no card selected"),this.selectedCard=null},sendGif:function(e,audio){var t=this;this.spammer=!0,setTimeout((function(){t.spammer=!1}),4e3),e?this.ws.send(JSON.stringify({type:"gif",operation:"message",data:e,mycard:this.userID,sound:audio||"none"})):console.log("no gif selected"),console.log("gif sended"+e)},selectCard:function(e){this.listCardToEat=[],this.selectedCard=this.selectedCard===e?null:e,console.log("Selected card:",this.selectedCard)},addCardEat:function(e){this.listCardToEat.some((function(t){return t.number===e.number&&t.suit===e.suit}))?this.listCardToEat=this.listCardToEat.filter((function(t){return t.number!==e.number||t.suit!==e.suit})):this.listCardToEat.push(e),console.log(this.listCardToEat)},playsong:function(e){this.soundeffect=e,console.log("playing"+this.soundeffect);var t=this.$refs.backgroundMusic;t.src=this.soundeffect,t.load(),t.play().catch((function(e){console.error("Playback failed:",e)}))},getCardClass:function(e){var t=this,n=this.listCardToEat,r=0;if(!Array.isArray(n)||0===n.length)return"";if(!n.some((function(t){return t.number==e.number&&t.suit==e.suit})))return"";for(var i=0;i<n.length;i++)r+=Number(n[i].number);return this.selectedCard&&"number"==typeof this.selectedCard.number?r===this.selectedCard.number?(console.log("i chose"+e.number),console.log("his.tableCards.some ="+this.tableCards.some((function(t){return t.number==e.number}))),console.log(this.tableCards),this.tableCards.some((function(e){return e.number==t.selectedCard.number}))&&1!==n.length?"imgPreventSelected":(this.ws.send(JSON.stringify({type:"system",operation:"eat",mycard:this.selectedCard,cardToEat:this.listCardToEat})),this.listCardToEat=[],"imgSelected")):r===this.selectedCard.number?"imgSelected":"imgPreventSelected":""},connectWebSocket:function(){var e=this,t=this.$auth.getToken("local");this.userID=this.$auth.user.user.userId,console.log(this.$auth),console.warn("".concat(this.$config.apiUrl,"/gameroom/")+this.RoomID+"/"+t),this.ws=new WebSocket("".concat(this.$config.apiUrl,"/gameroom/")+this.RoomID+"/"+t),this.ws.onopen=function(){console.log("WebSocket is connected")},this.ws.onclose=function(t){console.log("WebSocket is closed now.for".concat(t," Reconnecting in ").concat(e.reconnectInterval/1e3," seconds...")),setTimeout((function(){e.connectWebSocket()}),e.reconnectInterval)},this.ws.onerror=function(t){console.error("WebSocket error observed:",t),e.ws.close()},this.ws.onmessage=function(t){var n=JSON.parse(t.data);if(console.warn("receivedData : "),console.warn(n),console.log(n),"getHand"===n.operation)e.myHand=n.data,console.log(new Map(n.otherPlayer)),e.playersCard=new Map(n.otherPlayer);else if("getTapi"===n.operation)e.tableCards=n.data,e.playerTurn=n.turn,0==e.tableCards.length&&e.playsong("/jhonsina.mp3");else if("endGame"===n.operation)e.gameoverstat=n.data,e.gameover=!0;else if("start game full players"===n.operation)e.waitingPlayer=!1,console.error(n.players),e.players=n.players,n.players&&Array.isArray(n.players)?(console.error(n.players.length>2),e.getNextValuePlusOne(e.userID),e.getPreviousValue(e.userID),e.lastPlayer()):console.error("receivedData.players is not defined or not an array");else if("eatMove"===n.operation)console.error(n.data),e.eatMove.data=n.data,e.eatMove.card=n.card,e.eatMove.on=!0,7==e.eatMove.card.number||e.eatMove.data.some((function(e){return 7==e.number}))?e.playsong("/ghabra.mp3"):3==e.eatMove.card.number?e.playsong("/hablih3dt.mp3"):9==e.eatMove.card.number?e.playsong("/raysbata.mp3"):1==e.eatMove.card.number&&e.playsong("/fakir.mp3"),setTimeout((function(){e.eatMove.on=!1}),2e3);else if("message"===n.operation)e.$notify({title:n.mycard,customClass:"msg_gif",dangerouslyUseHTMLString:!0,message:'<img style=" width: 80%;height: 80%;" class="gif-img" src='.concat(n.data,' alt="My GIF">'),showClose:!0}),"none"!=n.sound&&e.playsong(n.sound);else if("audio"===n.operation){var r=n.data,o="data:audio/webm;base64,",c=r.startsWith(o)?r.replace(o,""):r,d=e.base64ToBlob(c,"audio/webm"),l=URL.createObjectURL(d),audio=new Audio(l),m=new(window.AudioContext||window.webkitAudioContext);"suspended"===m.state?m.resume().then((function(){audio.play().catch((function(e){console.error("Playback failed:",e)}))})):audio.play().catch((function(e){console.error("Playback failed:",e)}))}}},startStreaming:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isStreaming){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,navigator.mediaDevices.getUserMedia({audio:!0});case 5:if(e.audioStream=t.sent,e.mediaRecorder=new MediaRecorder(e.audioStream,{mimeType:"audio/webm"}),e.ws.readyState===WebSocket.OPEN){t.next=10;break}return console.error("WebSocket is not open. Unable to start streaming."),t.abrupt("return");case 10:e.mediaRecorder.ondataavailable=function(t){if(e.mediaRecorder=new MediaRecorder(e.audioStream,{mimeType:"audio/webm"}),e.ws.readyState===WebSocket.OPEN){var n=new FileReader;n.onloadend=function(){var t=n.result.split(",")[1],r=JSON.stringify({operation:"audio",data:t});e.ws.send(r)},n.readAsDataURL(t.data)}else console.warn("WebSocket is not open. Cannot send audio data.")},e.mediaRecorder.onerror=function(e){console.error("MediaRecorder error:",e)},e.mediaRecorder.start(),e.isStreaming=!0,e.mediaRecorder.onstop=function(){console.log("MediaRecorder stopped."),e.isStreaming=!1,e.audioStream.getTracks().forEach((function(track){return track.stop()}))},t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.error("Error starting audio stream:",t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))()},stopStreaming:function(){this.isStreaming&&(this.mediaRecorder.stop(),this.audioStream.getTracks().forEach((function(track){return track.stop()})),this.isStreaming=!1)},base64ToBlob:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio/webm",n=atob(e),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);return new Blob([o],{type:t})},sendMessage:function(){if(this.ws){var e={type:"system",operation:"getHand",data:[],timestamp:(new Date).toISOString()};this.ws.send(JSON.stringify(e)),this.messageInput=""}}}},h=f,v=(n(596),n(43)),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"background-main"},[t("audio",{ref:"backgroundMusic"},[t("source",{attrs:{src:e.soundeffect,type:"audio/mp3"}}),e._v("\n    Your browser does not support the audio element.\n  ")]),e._v(" "),t("div",{staticClass:"player1"},[t("el-button",{attrs:{type:"danger",plain:"",disabled:""}},[e._v("\n      "+e._s(e.playerInfront)+"  ")]),e.playersCard?t("enemyHand",{attrs:{nbcards:e.playersCard.get(e.playerInfront)}}):e._e()],1),e._v(" "),e.players.length>2?t("div",{staticClass:"player2"},[t("el-button",{staticStyle:{position:"absolute",transform:"rotate(90deg)"},attrs:{type:"danger",plain:"",disabled:""}},[e._v("\n      "+e._s(e.playerNext)+"\n    ")]),e._v(" "),e.playersCard?t("enemyHand",{attrs:{nbcards:e.playersCard.get(e.playerNext)}}):e._e()],1):e._e(),e._v(" "),e.players.length>2?t("div",{staticClass:"player3"},[t("enemyHand"),t("el-button",{staticStyle:{position:"absolute",transform:"rotate(90deg)"},attrs:{type:"danger",plain:"",disabled:""}},[e._v("\n      "+e._s(e.playerBehind)+"\n    ")]),e._v(" "),e.playersCard?t("enemyHand",{attrs:{nbcards:e.playersCard.get(e.playerBehind)}}):e._e()],1):e._e(),e._v(" "),t("div",{staticClass:"table"},[t("div",{staticClass:"cardTapi"},e._l(e.tableCards,(function(r){return t("img",{key:r.number+r.suit,class:e.getCardClass(r),attrs:{src:n(453)("./".concat(r.number,"_").concat(r.suit,".png")),alt:"Card Image"},on:{click:function(t){return e.addCardEat(r)}}})})),0)]),e._v(" "),t("div",{staticClass:"myhand"},[t("div",{staticStyle:{display:"flex"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{plain:"",disabled:""}},[e._v("\n        "+e._s(e.userID)+" : "+e._s(e.myScore)+" - "+e._s(e.enemyScore))]),e._v(" "),t("el-tooltip",{attrs:{disabled:e.spammer,placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("img",{staticClass:"gif-img",attrs:{src:"https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExZmN0ZHNvb2g2NDNhYWp1a3o4MnR0bXFwcDNybzV5NjMzNDAxa3hmciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/LNmHOucoicX812J9am/giphy.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExNW9raDVxZHJrNG9hbzdlNTdueXRnazY2czd2MWY4MnFycTF5cGZxcyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/vnThsygWjtKWvvEGCL/giphy.gif","/subconscient.mp3")}}}),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbGEzb294YTlneWpuaXI1OXhhZzUwcHVkZjhrbzN5YW54d2Zvc2xvbSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/nuZwH6QEScfJUN7z6U/giphy-downsized-large.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbGEzb294YTlneWpuaXI1OXhhZzUwcHVkZjhrbzN5YW54d2Zvc2xvbSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/nuZwH6QEScfJUN7z6U/giphy-downsized-large.gif","/rabi_maa_zawali.mp3")}}}),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://media1.tenor.com/m/0eGun8dPK2QAAAAd/boughanmi-taraji.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://media1.tenor.com/m/0eGun8dPK2QAAAAd/boughanmi-taraji.gif")}}}),e._v(" "),t("br"),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExeHR2NTFjZms4c2Jwamc0ZmQ0MDVubnk4NTl0cGg4MW55MTl0eXU4NCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/kU1qORlDWErOU/giphy.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExeHR2NTFjZms4c2Jwamc0ZmQ0MDVubnk4NTl0cGg4MW55MTl0eXU4NCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/kU1qORlDWErOU/giphy.gif","/thuglife.mp3")}}}),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbXUxZzNsaW0zeXNsaXc0NXA4a29tZ3lxOTFrOWs4MHNoZzRxa210ciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/VdJpHBtDLdIDJsyGO5/giphy.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbXUxZzNsaW0zeXNsaXc0NXA4a29tZ3lxOTFrOWs4MHNoZzRxa210ciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/VdJpHBtDLdIDJsyGO5/giphy.gif")}}}),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://media1.tenor.com/m/Pts1f-cVV9sAAAAd/tounsi-mti9er-tunisia.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://media1.tenor.com/m/Pts1f-cVV9sAAAAd/tounsi-mti9er-tunisia.gif")}}}),e._v(" "),t("br"),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExNDJicTR2dmtocGJ6cnBxcnRyeGZnanU3b2hwOW9lN2N2ZTdmcjV3bSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/KmX0qssjbBv5d3ehUv/giphy.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExNDJicTR2dmtocGJ6cnBxcnRyeGZnanU3b2hwOW9lN2N2ZTdmcjV3bSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/KmX0qssjbBv5d3ehUv/giphy.gif","/rajel.mp3")}}}),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://media1.tenor.com/m/BkxBJpfByvEAAAAC/vraiment-tunisie.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://media1.tenor.com/m/BkxBJpfByvEAAAAC/vraiment-tunisie.gif","/yarhilwaldik.mp3")}}}),e._v(" "),t("img",{staticClass:"gif-img",attrs:{src:"https://media1.tenor.com/m/ngoZGMzKjq8AAAAC/kais-said-president-ka%C3%AFs-sa%C3%AFed.gif",alt:"My GIF"},on:{click:function(t){return e.sendGif("https://media1.tenor.com/m/ngoZGMzKjq8AAAAC/kais-said-president-ka%C3%AFs-sa%C3%AFed.gif","/kaysoun.mp3")}}})]),e._v(" "),t("el-button",{attrs:{disabled:e.spammer,icon:"el-icon-chat-dot-round",circle:""}})],1),e._v(" "),t("div",[e.isStreaming?e._e():t("el-button",{attrs:{icon:"el-icon-microphone",circle:""},on:{click:e.startStreaming}}),e._v(" "),e.isStreaming?t("el-button",{attrs:{icon:"el-icon-position",circle:""},on:{click:e.stopStreaming}}):e._e()],1)],1),e._v(" "),e.playerTurn!=e.userID?t("div",{attrs:{id:"waiting"}},[e._v("\n      "+e._s(e.playerTurn+" في انتظار")+"\n    ")]):e._e(),e._v(" "),t("div",{staticClass:"card",staticStyle:{"padding-right":"28px","padding-left":"28px"}},e._l(e.myHand,(function(r){return t("img",{key:r.number+r.suit,class:{imgSelected:e.selectedCard===r},attrs:{src:n(453)("./".concat(r.number,"_").concat(r.suit,".png")),alt:"Card Image"},on:{click:function(t){return e.selectCard(r)}}})})),0),e._v(" "),e.myHand?t("el-button",{attrs:{type:"danger",round:""},on:{click:function(t){return e.trowcard()}}},[e._v("ارمي")]):e._e()],1),e._v(" "),t("el-dialog",{attrs:{title:"Addition",visible:e.gameover,width:"100%",center:""},on:{"update:visible":function(t){e.gameover=t}}},[t("table",{staticStyle:{width:"100%"},attrs:{border:"1",cellpadding:"10"}},[t("thead",[t("tr",[t("th",[e._v("اللاعب")]),e._v(" "),t("th",[e._v("1+1 الرياضيات")]),e._v(" "),t("th",[e._v("الرشمة")])])]),e._v(" "),t("tbody",e._l(e.gameoverstat,(function(n,r){return t("tr",{key:r},[t("td",[e._v(e._s(r))]),e._v(" "),t("td",[t("div",{staticClass:"myhandstat"},[t("strong",[e._v(e._s(e.me=e.analyzeDeck(n).info))])])]),e._v(" "),t("td",[e._v(e._s(e.enemy=e.analyzeDeck(n).total))])])})),0)]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.gameoverReplay}},[e._v("العب مرة أخرى")])],1)]),e._v(" "),t("el-dialog",{attrs:{"show-close":!1,title:"يجب عليك مشاركة رمز اللعبة",visible:e.waitingPlayer,width:"30%",center:""},on:{"update:visible":function(t){e.waitingPlayer=t}}},[t("span",[e._v(" RoomID : "+e._s(e.RoomID))])]),e._v(" "),t("el-dialog",{attrs:{"show-close":!1,background:" rgba(0,0,0,0.4)",title:"Eat move",visible:e.eatMove.on,width:"fit-content",center:""},on:{"update:visible":function(t){return e.$set(e.eatMove,"on",t)}}},[t("span",[t("div",{staticClass:"myhandstat"},[t("div",{staticClass:"card"},e._l(e.eatMove.data,(function(e){return t("img",{key:e.number+e.suit,attrs:{src:n(453)("./".concat(e.number,"_").concat(e.suit,".png")),alt:"Card Image"}})})),0),e._v(" "),e.eatMove.card?t("img",{attrs:{src:n(453)("./".concat(e.eatMove.card.number,"_").concat(e.eatMove.card.suit,".png")),alt:"Card Image"}}):e._e()])])])],1)}),[],!1,null,"724595e0",null);t.default=component.exports}}]);